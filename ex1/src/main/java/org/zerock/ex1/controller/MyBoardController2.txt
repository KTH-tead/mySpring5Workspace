package org.zerock.ex1.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.zerock.ex1.service.MyBoardService;

import lombok.Setter;
import lombok.extern.log4j.Log4j;

@Controller
@Log4j
@RequestMapping("/myboard")
public class MyBoardController2 {
	@Setter(onMethod_ = @Autowired)
	private MyBoardService myBoardService;


	//빈 주입 방법1: 생성자 주입방법(권장), 단일 생성자만 존재해야 함.
	//주의: 기본 생성자가 존재 시에 오류 발생
//	        private MyBoardService myBoardService;

//	        public MyBoardController(MyBoardService myBoardService) {
//	            this.myBoardService = myBoardService;
//	        }

	//빈 주입 방법2: @Autowired(내부적으로 setter를 이용)
//	        @Autowired
//	        private MyBoardService myBoardService;

	//빈 주입 방법3: setter 주입방법: lombok에서의 @Setter(onMethod_ = @Autowired) 이용하는 방법과 동일
//	        private MyBoardService myBoardService;
	//
//	        @Autowired
//	        public void setMyBoardService(MyBoardService myBoardService) {
//	            this.myBoardService = myBoardService;
//	        }

//  //게시물 목록 조회1

	@GetMapping("/list")
	public void showBoardList(Model model) {
		log.info("컨트롤러 - 게시물 목록 조회....");
		model.addAttribute("boardList", myBoardService.getBoardList());
	}

    //게시물 등록 - 페이지 호출
//	@GetMapping("/register")
//	public void showBoardRegisterPage() {
//		log.info("컨트롤러 - 게시물 등록 페이지 호출");
//	}
//
}
